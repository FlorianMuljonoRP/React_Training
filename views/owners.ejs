<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
      
        <title>Pet Hospital Web Application - List of Owners</title>
      
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css" rel="stylesheet">
      </head>

<body >

  <%- include('header') %>

<div class="container py-5">
  <h1>Owners</h1>
  <ul class="list-group mt-4">
  <% owners.forEach(owner => { %>
    <li class="list-group-item">
      <%= owner.first_name %> 
      <%= owner.last_name %> 
      <a href="/owners/edit/<%= owner.owner_id %>">Edit</a> |
      <a href="#" onclick="deleteOwner(<%= owner.id %>)">Delete</a>
    </li>
  <% }); %>
</ul>

<script>
  function deleteOwner(id) {
    if (confirm('Are you sure you want to delete this owner?')) {
      fetch('/owners/' + id, { method: 'DELETE' })
        .then(() => location.reload())
        .catch(err => console.error(err));
    }
  }
</script>

  
  </div>
</body>

</html>
